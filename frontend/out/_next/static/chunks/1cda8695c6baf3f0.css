:root{--lightningcss-light:initial;--lightningcss-dark: ;color-scheme:light;--page-bg:#f8fafc;--bg-base:#f8fafc;--surface-overlay:#fff;--surface-muted:#0f172a0a;--surface-strong:#0f172a0f;--panel-border:#0f172a1a;--text-strong:#0f172a;--text-muted:#0f172a9e;--divider:#0f172a1a;--accent:#4f6bff;--accent-strong:#3a50ff;--accent-soft:#4f6bff24;--accent-deep:#2d46ff;--brand:#4f6bff;--brand-strong:#3a50ff;--brand-muted:#4f6bff1a;--danger:#dc2626;--danger-soft:#dc26261f;--code-bg:#f1f5f9;--code-border:#0f172a24;--bubble-assistant:#fff;--bubble-user:#eef2ff;--shadow-soft:0 1px 2px #0f172a0f;--shadow-card:0 1px 3px #0f172a14;--input-shadow:0 1px 2px #0f172a14;--radius-sm:8px;--radius-md:12px;--radius-lg:16px;--header-text:#111322;--sidebar-bg:#fbfbfd;--sidebar-border:#0f172a1a;--content-max:760px;font-family:Inter,SF Pro Display,PingFang SC,Microsoft YaHei,system-ui,sans-serif;line-height:1.5}*{box-sizing:border-box}body{background:var(--page-bg);min-height:100vh;color:var(--text-strong);-webkit-font-smoothing:antialiased;margin:0;font-family:inherit}html,body{scroll-behavior:smooth}button,input,textarea{font:inherit;color:inherit}button{cursor:pointer;background:0 0;border:none}.screen{justify-content:center;width:100%;min-height:100vh;padding:0;display:flex}.chat-app{grid-template-columns:clamp(260px,22vw,320px) minmax(0,1fr);width:100%;min-height:100vh;display:grid}.chat-app.collapsed{grid-template-columns:64px minmax(0,1fr)}.history-panel{background:var(--sidebar-bg);border-right:1px solid var(--divider);flex-direction:column;gap:12px;min-height:100vh;padding:18px 18px 24px;display:flex;position:sticky;top:0}.history-panel:after{content:"";pointer-events:none;background:linear-gradient(#0f172a1f,#0f172a0d);width:1px;height:100%;position:absolute;top:0;right:-1px}.history-footer{justify-content:flex-end;margin-top:auto;display:flex}.history-panel.collapsed{align-items:center;gap:12px;padding:24px 8px;overflow:hidden}.history-panel.collapsed .history-header,.history-panel.collapsed .history-scroll,.history-panel.collapsed .history-text,.history-panel.collapsed .session-actions{display:none}.history-header{justify-content:flex-start;align-items:center;width:100%;margin-top:12px;padding:0 6px;display:flex}.history-header .pill-btn{justify-content:center;width:100%}.collapse-toggle{border:1px solid var(--divider);background:var(--surface-overlay);width:36px;height:36px;color:var(--text-muted);box-shadow:none;border-radius:12px;justify-content:center;align-self:flex-end;align-items:center;display:inline-flex}.pill-btn{background:var(--surface-overlay);border:1px solid #0000;border-radius:999px;align-items:center;gap:10px;padding:10px 20px;font-weight:600;transition:background .15s,border-color .15s,transform .15s;display:inline-flex}.pill-btn svg{width:16px;height:16px}.pill-btn.primary{color:var(--brand);box-shadow:none;background:0 0;border-color:#0f172a1f}.pill-btn.primary:hover{background:#0f172a0a;border-color:#0f172a2e}.pill-btn.subtle{color:var(--text-strong);background:#0f172a0d;padding:8px 16px}.pill-btn.subtle:hover{background:#0f172a14}.pill-btn:active{transform:translateY(1px)}.history-scroll{flex-direction:column;flex:1;gap:8px;min-height:0;padding:2px 4px 12px;display:flex;overflow-y:auto}.history-item{cursor:pointer;background:0 0;border:1px solid #0000;border-radius:12px;align-items:flex-start;gap:12px;padding:10px 12px;transition:background .15s,border-color .15s;display:flex;position:relative}.history-item:hover,.history-item:focus-visible{background:#0f172a08}.history-item.active{background:#0f172a09;border-color:#0f172a1f}.history-item.active:before{content:"";pointer-events:none;background:#0f172a59;border-radius:999px;width:3px;position:absolute;top:10px;bottom:10px;left:6px}.history-text{flex-direction:column;flex:1;gap:4px;min-width:0;display:flex}.history-lines{flex-direction:column;gap:3px;display:flex}.session-title{white-space:nowrap;text-overflow:ellipsis;margin:0;font-size:.92rem;font-weight:600;overflow:hidden}.session-time{color:#0f172a80;white-space:nowrap;font-size:.75rem}.history-item.active .session-title{color:#0f172ae6}.session-actions{opacity:0;visibility:hidden;pointer-events:none;gap:6px;transition:opacity .2s;display:flex}.history-item:hover .session-actions,.history-item:focus-within .session-actions,.history-item.renaming .session-actions{opacity:1;visibility:visible;pointer-events:auto}.icon-btn{border:1px solid var(--divider);background:var(--surface-overlay);width:30px;height:30px;color:var(--text-muted);border-radius:50%;justify-content:center;align-items:center;transition:color .2s,border-color .2s,background .2s;display:inline-flex}.icon-btn:hover{color:var(--text-strong);border-color:var(--accent)}.icon-btn.danger{color:var(--danger);border-color:#f8717166}.session-title-input{border-radius:var(--radius-md);border:1px solid var(--panel-border);background:var(--surface-overlay);width:100%;color:inherit;padding:6px 10px}.session-title-input:focus{border-color:var(--accent);box-shadow:0 0 0 2px var(--accent-soft);outline:none}.conversation-shell{flex-direction:column;gap:24px;min-height:calc(100vh - 48px);padding:24px 0 40px;display:flex;position:relative}.conversation-inner{z-index:1;flex-direction:column;gap:18px;width:min(1120px,100%);margin:0 auto;padding:0 24px;display:flex;position:relative}.top-nav{color:var(--header-text);z-index:2;background:#f8fafceb;border-bottom:1px solid #0f172a0f;justify-content:space-between;align-items:center;gap:18px;padding:12px 0 16px;display:flex;position:sticky;top:0}.top-nav:after{content:"";pointer-events:none;background:linear-gradient(#f8fafceb,#f8fafc00);height:12px;position:absolute;bottom:-1px;left:0;right:0}.title-stack{align-items:center;gap:16px;display:flex}.logo-mark{width:44px;height:44px;color:var(--brand);box-shadow:none;background:#4f6bff1f;border:1px solid #4f6bff2e;border-radius:14px;justify-content:center;align-items:center;display:flex}.title-text{flex-direction:column;gap:2px;display:flex}.title-text h1{color:inherit;margin:0;font-size:1.35rem;font-weight:650}.title-sub{color:#0f172a99;margin:0;font-size:.85rem}.nav-actions{align-items:center;gap:12px;display:flex}.status-chip{color:var(--brand-strong);background:#4f6bff1f;border-radius:999px;align-items:center;gap:6px;padding:6px 14px;font-size:.74rem;display:inline-flex}.status-chip.busy{color:#b45309;background:#fbbf2429}.status-dot{background:currentColor;border-radius:50%;width:8px;height:8px}.ghost-icon{border:1px solid var(--divider);background:var(--surface-overlay);color:#0f172a99;border-radius:12px;justify-content:center;align-items:center;width:40px;height:40px;transition:background .2s,color .2s;display:inline-flex}.ghost-icon:hover:enabled{color:var(--text-strong);background:#0f172a0a}.ghost-icon.danger:hover:enabled{background:var(--danger-soft);color:var(--danger);border-color:#f8717199}.ghost-icon:disabled{opacity:.45;cursor:not-allowed}.text-btn{border-radius:var(--radius-md);color:var(--text-muted);background:#0f172a0a;border:1px solid #0000;padding:6px 14px;font-weight:600}.text-btn:hover:enabled{color:var(--text-strong);border-color:var(--divider)}.text-btn:disabled{opacity:.5;cursor:not-allowed}.conversation-body{flex-direction:column;flex:1;align-items:center;gap:16px;min-height:0;display:flex}.chat-feed{width:100%;max-width:var(--content-max);flex-direction:column;flex:1;gap:14px;margin:0 auto;padding:0 0 8px;display:flex;overflow-y:auto}.chat-feed>*{margin:0}.chat-feed>*+*{margin-top:0}.effort-indicator{color:var(--accent-deep);background:#4f6bff14;border:1px dashed #4f6bff40;border-radius:16px;align-items:center;gap:12px;max-width:360px;margin:6px auto 0;padding:12px 16px;font-weight:600;display:flex}.effort-indicator p{margin:0;font-size:.95rem}.effort-spinner{border:2px solid #4f6bff4d;border-top-color:var(--accent);border-radius:50%;width:18px;height:18px;animation:1s linear infinite spin}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.message-row{align-items:flex-start;gap:12px;display:flex}.message-error{background:var(--danger-soft);width:100%;max-width:880px;color:var(--danger);border-radius:12px;align-items:center;gap:8px;margin:0 auto;padding:12px 16px;font-weight:600;display:flex}.message-row.user{flex-direction:row-reverse}.message-avatar{justify-content:flex-start;align-self:flex-start;width:32px;margin-top:0;display:flex}.avatar{border:1px solid var(--divider);background:var(--surface-overlay);color:#0f172a8c;border-radius:50%;justify-content:center;align-items:center;width:32px;height:32px;font-size:.85rem;font-weight:600;display:flex}.avatar.user{color:var(--brand);background:#4f6bff1f;border-color:#4f6bff2e}.avatar.assistant{background:var(--surface-overlay);border-color:var(--divider);color:#0f172aa6}.message-content{flex-direction:column;flex:1;align-items:flex-start;gap:8px;max-width:100%;display:flex}.message-content>*{margin:0}.message-row.user .message-content{align-items:flex-end}.message-row.assistant .message-content{align-items:flex-start}.message-stack{flex-direction:column;flex:1;align-items:flex-start;gap:6px;min-width:0;display:flex}.message-row.user .message-stack{align-items:flex-end}.message-bubble{background:var(--surface-overlay);width:fit-content;max-width:min(84%,var(--content-max));min-width:0;box-shadow:none;border:1px solid #0f172a1a;border-radius:14px;flex-direction:column;padding:10px 14px;line-height:1.6;display:inline-flex;position:relative}.message-bubble:focus-within{border-color:#4f6bff40;box-shadow:0 0 0 2px #4f6bff14}.message-row.user .message-bubble{margin-left:auto}.message-row.assistant .message-bubble{background:var(--bubble-assistant);color:#0f172ae6;border:1px solid #0f172a1a;margin-right:auto}.message-row.user .message-bubble{background:var(--bubble-user);color:#0f172aeb;border-color:#4f6bff2e}.bubble-inner{flex-direction:column;gap:1rem;display:flex}.bubble-inner p{margin:0;line-height:1.65}.bubble-inner code{font-family:JetBrains Mono,Fira Code,monospace}.message-content p{margin:0;line-height:1.7}.message-content p+p{margin-top:10px}.message-content code{font-family:JetBrains Mono,Fira Code,monospace;font-size:.92em}.inline-link{color:var(--accent);border-bottom:1px solid #4f6bff59;padding-bottom:1px;text-decoration:none}.inline-link:hover{border-color:#4f6bffb3}.link-card{background:var(--surface-overlay);box-shadow:none;color:inherit;border:1px solid #0f172a1a;border-radius:12px;align-items:center;gap:12px;padding:12px 14px;text-decoration:none;display:flex}.link-card__icon{width:32px;height:32px;color:var(--accent);background:#4f6bff1f;border:1px solid #4f6bff2e;border-radius:12px;justify-content:center;align-items:center;display:flex}.link-card__body{flex-direction:column;gap:2px;font-size:.9rem;display:flex}.link-card__title{color:#0f172ae6;margin:0;font-weight:600}.link-card__url{color:#0f172a8c;font-size:.78rem}.bubble-actions{gap:8px;display:inline-flex}.message-meta{color:var(--text-muted);opacity:0;align-items:center;gap:12px;padding:0 4px;font-size:.8rem;transition:opacity .2s;display:flex}.message-row.user .message-meta{justify-content:flex-end}.message-row.assistant .message-meta{justify-content:flex-start}.message-row:hover .message-meta,.message-row:focus-within .message-meta{opacity:1}.bubble-action{background:var(--surface-overlay);width:28px;height:28px;color:var(--text-muted);border:1px solid #0f172a1a;border-radius:50%;justify-content:center;align-items:center;display:inline-flex}.bubble-action:hover:enabled{color:var(--text-strong);border-color:#0f172a2e}.bubble-action:disabled{opacity:.4;cursor:not-allowed}.message-time{color:var(--text-muted);font-size:.75rem}.code-block{border-radius:var(--radius-md);border:1px solid var(--code-border);background:var(--code-bg);overflow:hidden}.code-header,.code-toolbar{color:#0f172aa6;background:#ffffff59;border-bottom:1px solid #0f172a1a;justify-content:space-between;align-items:center;gap:12px;padding:6px 10px;font-size:.75rem;display:flex}.code-header button,.code-toolbar button{border-radius:var(--radius-sm);color:inherit;background:#ffffff73;border:1px solid #0000;padding:4px 8px;font-size:.75rem}.code-header button:hover,.code-toolbar button:hover{border-color:var(--accent);color:var(--accent)}.code-block pre{margin:0;padding:12px 14px;font-family:JetBrains Mono,Fira Code,monospace;font-size:.9rem;overflow-x:auto}.empty-state{text-align:center;border-radius:var(--radius-lg);border:1px dashed var(--divider);color:var(--text-muted);flex-direction:column;align-self:center;align-items:center;gap:12px;padding:32px;display:flex}.composer{background:linear-gradient(to top,var(--page-bg)70%,#f8fafc00);justify-content:center;width:100%;padding:14px 0 0;display:flex;position:sticky;bottom:0}.composer-field{background:var(--surface-overlay);box-shadow:var(--input-shadow);width:100%;max-width:var(--content-max);border:1px solid #0f172a1a;border-radius:16px;align-items:flex-end;gap:10px;padding:12px 14px;display:flex;position:relative}.composer-field:focus-within{border-color:#4f6bff4d;box-shadow:0 0 0 3px #4f6bff14}.composer textarea{resize:none;min-height:48px;max-height:200px;color:inherit;background:0 0;border:none;flex:1;padding-left:2px;font-size:.95rem;line-height:1.65}.composer textarea::placeholder{color:var(--text-muted)}.composer textarea:focus{outline:none}.send-btn{color:#0f172a66;background:#0f172a0f;border:1px solid #0f172a1a;border-radius:14px;justify-content:center;align-items:center;width:46px;height:46px;transition:background .2s,color .2s,transform .2s,box-shadow .2s;display:inline-flex}.send-btn[data-ready=true]{background:var(--brand);color:#fff;box-shadow:none;border-color:#0000}.send-btn[data-ready=true]:hover{background:var(--brand-strong)}.send-btn[data-ready=true]:active{transform:translateY(1px)}.send-btn:disabled{opacity:.5;cursor:not-allowed}.history-scroll,.chat-feed,body{scrollbar-width:thin;scrollbar-color:#0f172a38 transparent}.history-scroll::-webkit-scrollbar{width:8px}.chat-feed::-webkit-scrollbar{width:8px}body::-webkit-scrollbar{width:8px}.history-scroll::-webkit-scrollbar-thumb{background:#0f172a38;border-radius:999px}.chat-feed::-webkit-scrollbar-thumb{background:#0f172a38;border-radius:999px}body::-webkit-scrollbar-thumb{background:#0f172a38;border-radius:999px}.history-scroll::-webkit-scrollbar-track{background:0 0}.chat-feed::-webkit-scrollbar-track{background:0 0}body::-webkit-scrollbar-track{background:0 0}#next-build-watcher,[data-nextjs-toast],nextjs-portal .nextjs-toast,nextjs-portal .nextjs-dev-overlay,nextjs-portal{display:none!important}.thinking{color:var(--accent);align-items:center;gap:4px;display:inline-flex}.thinking-dot{background:currentColor;border-radius:50%;width:6px;height:6px;animation:1s ease-in-out infinite bounce}.thinking-dot:nth-child(2){animation-delay:.15s}.thinking-dot:nth-child(3){animation-delay:.3s}@keyframes bounce{0%,80%,to{opacity:.5;transform:translateY(0)}40%{opacity:1;transform:translateY(-4px)}}@media (max-width:1200px){.chat-app{grid-template-columns:1fr}.history-panel{order:2}.conversation-shell{order:1}}@media (max-width:640px){.screen{padding:16px}.top-nav{flex-direction:column}.message-content{max-width:100%}.composer-field{flex-direction:column}.send-btn{border-radius:var(--radius-md);width:100%;height:44px}}
