---
name: leetcode-submissions-stats
description: 针对 data/notes/my_markdowns/leetcode_submissions.md 的统计与汇总需求使用（分布、均值/中位数、最大最小、按日期或按题目分组等），适用于要求输出 JSON 统计结果的查询。
---

# leetcode_submissions 统计技能

## 何时使用
用户请求对 `leetcode_submissions.md` 做统计、聚合、分布、排名或按题目/日期分组时使用本技能。

## 数据文件
- `data/notes/my_markdowns/leetcode_submissions.md`

## 分析要求
- 必须通过 `run_code_interpreter` 读取原始文件并计算，禁止凭检索片段估算。
- 仅使用 Python 标准库。
- 解析 Markdown 表格时：
  - 优先识别包含表头与分隔线的结构化记录，忽略代码块或示例性片段，避免误计数。
  - 以表头行（包含列名）为起点，连续收集与表头列数一致的 `|` 行作为记录；遇到空行或非表格行即结束该表，存在多个表时应累加。
  - 记录行应满足列数与表头一致且首列为数字型提交 ID（或等价可验证特征），避免把说明行/标签行计入统计。
- 按题目分组时，以最近的 `## 题目名 (`slug`)` 为分组边界。
  - 表头/列名行仅用于识别表结构，不应被当作题目/章节标题参与统计。
  - 若表格行本身不包含题目字段，应使用最近的标题作为题目名，而不是放弃按题目统计。

## 统计质量要求
- 优先保证覆盖率，避免仅依据标题/摘要。
- 使用 run_code_interpreter 读取笔记时，应尽量全量扫描并进行宽松候选抽取，再做轻度去噪与自检。
- 若存在过滤步骤，需返回少量被过滤的噪声样例以便校验。
- 若脚本产出结果与 Query 需求不符或缺失关键字段，必须复盘并迭代脚本直至得到可信答案。
- 当 Query 指定具体主题/条目/章节时，统计范围必须限定在该主题对应的结构化记录或数据表内，禁止跨主题聚合。
- 统计题的最终数字必须直接来自脚本输出，不允许手算或估算。
- 若原始文件包含显式汇总字段（例如总数/总量/合计），并与脚本统计结果不一致，优先采用文件内显式汇总作为总数/分母，并说明差异来源。

## 输出规范
- 严格按用户要求的 JSON 字段输出（字段名与格式不改写）。
- 输出中包含 `source_file` 字段，值为实际读取的文件路径。
- 如需百分比，保留两位小数并带 `%`。

## 建议流程
1) 读取并打印文件结构概览（例如标题分布、表格数量）。
2) 解释你将如何解析表格和分组。
3) 编写脚本，输出结构化 JSON 结果。
